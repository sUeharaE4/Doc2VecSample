# Doc2VecSample Mecab
Mecab, gensimをエンジンとしたDoc2Vecのサンプル

## Build
docker-compose build
  
を実行すればOKです。必要なものはインストールして、すでに学習済みのモデルを使って類似度を返すまでがbuildに含まれます。  
build後はコンテナに入って pythonScripts/sample.py を叩いてください。後述しますが、docker-compose up しても何も起こりません。。  
docker imagesでイメージID確認して、 docker run -it イメージID bash でコンテナに入って叩いてください(不便ですみませんが、あくまで動作確認なので。)

## 学習データのディレクトリ構成
Dockerfileをもとにbuildすればrondhuit社が公開しているlivedoor ニュースコーパスを学習するようになっています。
(オプションのデフォルト値で学習済みモデルを参照して推論するようになっているので、学習が目的であればオプション指定を変更してください)
  
独自データを学習させたければ「pythonScripts」ディレクトリにデータを格納して再度buildすればデータがコンテナに入ります。
独自データのルートディレクトリをsample.pyの--docオプションで指定してください。配下のファイルを再帰的に取得して学習対象にします。
--modelオプションは学習済みモデルの保存先だけでなく、指定したファイルがあれば学習せずに推論するルートに進むので
学習させたい場合はファイルを削除しておくか、別のパスを指定してください。
  
その他のオプションは sample.py --help で確認してください。

### Django関連
もともと簡易的なWebサービス化する予定だったのでDjangoがありますが、こちらまで手を入れるかは未定。なのでbuildしたらupする必要はありません。