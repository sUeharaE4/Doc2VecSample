# Doc2VecSample Mecab
Mecab, gensimをエンジンとしたDoc2Vecのサンプル

## Build
docker-compose build
  
を実行すればOKです。必要なものはインストールして、すでに学習済みのモデルを使って類似度を返すまでがbuildに含まれます。  
build後はコンテナに入ってsample.pyを叩いてください。後述しますが、docker-compose up しても何も起こりません。。  
docker imagesでイメージID確認して、 docker run -it イメージID bash でコンテナに入って叩いてください(不便ですみませんが、あくまで動作確認なので。)

## 学習データのディレクトリ構成
Dockerfileをもとにbuildすればrondhuit社が公開しているlivedoor ニュースコーパスを学習するようになっています。
(デフォルト引数で学習済みモデルを参照して推論するようになっているので、学習が目的であればオプション指定を変更してください)
  
独自データを学習させたければbuild前に「pythonScripts」ディレクトリにデータを格納しておけばコンテナに入ります。sample.pyの--docオプションで
学習データのルートディレクトリを指定すれば配下のファイルを再帰的に取得して学習対象にします。--modelオプションは学習済みモデルの保存先
だけでなく、指定したファイルがあれば学習しないで推論するルートに進むので学習させたい場合はファイルを削除しておくか、別のパスを指定してください。
  
その他のオプションは sample.py --help で確認してください。

### Django関連
もともと簡易的なWebサービス化する予定だったのでDjangoがあるが、こちらまで手を入れるかは未定。なのでbuildしたらupする必要はありません。